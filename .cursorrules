# Cursor Instructions for i18next-cli Reproduction

## Generated Files

**IMPORTANT**: The `en/translation.json` file (and any other `translation.json` files in locale directories) is **generated code** that should **never be manually edited**. These files are automatically generated by the `i18next-cli extract` command and any manual changes will be overwritten.

## Expected vs Actual Pattern

In `src/app.jsx`, each test case follows this pattern:

- **Expected**: Shows what the `translation.json` value should ideally look like for that translation key
- **Actual**: Shows the actual value copied from `translation.json` with:
  - ✅ (checkmark) if the actual value matches the expected value exactly
  - ⚠️ (warning) if only the component tag numbers differ (e.g., `<0>` vs `<1>`) but the structure and spacing match
  - ❌ (X mark) if the actual value has structural differences from the expected value (e.g., unwanted spaces, incorrect nesting, missing text)

Example:
```javascript
// Expected: "wo<0>r</0>d"
// Actual: "wo<1>r</1>d" ⚠️  // Only tag numbers differ
// Expected: "word<0>link</0>word"
// Actual: "word <1>link</1> word" ❌  // Has unwanted spaces
```

This pattern helps track which translation keys are being generated correctly by i18next-cli and which ones have issues (like unwanted spaces, incorrect component indices, etc.).

## Workflow

1. Write test cases in `src/app.jsx` with Trans components
2. Run `pnpm extract` to generate/update `translation.json`
3. Compare the generated values with the expected values in the comments
4. Never manually edit `translation.json` - it will be overwritten on the next extraction

## Updating Actual Values

When asked to update the "Actual" values in `src/app.jsx`:

1. Read the current values from `@translation.json` (or `en/translation.json`)
2. For each translation key, find the corresponding "Actual" comment in `src/app.jsx`
3. Update the "Actual" value with the current value from `translation.json`
4. Update the checkmark/warning/X mark:
   - ✅ if the actual value matches the expected value exactly
   - ⚠️ if only the component tag numbers differ (e.g., `<0>` vs `<1>`) but structure and spacing match
   - ❌ if there are structural differences (unwanted spaces, incorrect nesting, missing text, etc.)
5. Ensure the format matches exactly what's in `translation.json` (including component indices, spacing, etc.)

